{% extends 'base.html' %}

{% block header %}
<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item">
      <a href="{{ url_for('index') }}">Home</a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">
      Model
    </li>
  </ol>
</nav>
{% endblock %}

{% block content %}
<div class="card my-2">
  <div class="card-body">

    <h4>
      Models Page
    </h4>
      <div class="row">
          <div class="col-9">
            <div class="card mt-4">
              <div class="card-body">
                <table class="table">
                    <tbody>
                      <tr>
                          <th>Label</th>
                          <th>Latest Version</th>
                          <th>Deployed Version</th>
                          <th>Number of useful data points</th>
                          <th>ROC AUC</th>
                          <th>Pr</th>
                          <th>Rc</th>
                          <th>F1</th>
                          <th>Threshold</th>
                          <th>Owner</th>
                          <th>Majority Annotator</th>
                          <th>Deployed?</th>
                          <th>Model Details</th>
                      </tr>
                      {% for row in data_rows %}
                      <tr>
                        <td>{{ row.label }}</td>
                        <td>{{ row.latest_version }}</td>
                        <td>{{ row.deployed_version }}</td>
                        {% if row.num_of_data_points < 200 %}
                            <td bgcolor="red">{{ row.num_of_data_points }}</td>
                        {% else %}
                            <td>{{ row.num_of_data_points }}</td>
                        {% endif %}
                        <td>{{ row.roc_auc }}</td>
                        <td>{{ row.pr }}</td>
                        <td>{{ row.rc }}</td>
                        <td>{{ row.f1 }}</td>
                        <td>{{ row.threshold }}</td>
                        <td>NOT SUPPORTED YET</td>
                        <td>{{ row.majority_annotator }}</td>
                        <td>{{ row.has_deployed }}</td>
                        <td><a href="{{ url_for('models.show', label=row.label) }}" target="_blank">Details</a></td>
                      </tr>
                      {% endfor %}
                    </tbody>
                  </table>
              </div>
            </div>
          </div>
        </div>
  </div>
</div>
{% endblock %}