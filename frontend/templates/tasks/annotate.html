{% extends 'base.html' %}

{% block head %}
<link rel="stylesheet" href="/static/style.css">

<script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
<!-- <script src="https://unpkg.com/react@16/umd/react.production.min.js" crossorigin></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js" crossorigin></script> -->

<!-- TODO: Use standard JSX preprocessor -->
<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

<!-- <script src="/static/like_button.js"></script> -->
<script src="/static/annotation_box.js" type="text/babel"></script>
<script src="/static/annotation_box_container.js" type="text/babel"></script>
{% endblock %}

{% block header %}
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <a href="{{ url_for('index') }}">Home</a>
      </li>
      <li class="breadcrumb-item">
        <a href="{{ url_for('tasks.show', id=task.task_id) }}">Task</a>
      </li>
      <li class="breadcrumb-item active" aria-current="page">
        Example
      </li>
    </ol>
  </nav>
{% endblock %}

{% block content %}
  <h2>
    {{task}}
  </h2>

  <div id="react_container"></div>

  {% if next_ar_id %}
    <a href={{url_for('tasks.annotate', id=task.task_id, ar_id=next_ar_id)}}>Next</a>
  {% endif %}

<script>
window.data = {{data | safe}};
</script>


<script type="text/babel">

const e = React.createElement;

const domContainer = document.querySelector('#react_container');
ReactDOM.render(e(AnnotationBoxContainer, window.data), domContainer);

</script>
{% endblock %}